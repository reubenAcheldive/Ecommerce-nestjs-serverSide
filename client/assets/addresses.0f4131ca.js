import{c as g,j as t,b as a,F as h,x as N,C as v,y as w,r as p,u as x,z as y,A}from"./index.d43b7a71.js";import{W as b}from"./WrapperIcon.c9ec89f6.js";import{L as m,a as u,B as C,P as k}from"./PopModal.d56c8e90.js";const F=({address:l,openWithAddress:r,isCanEdit:c,className:d})=>{const{homeNumber:s,streetAddress:n,_id:o}=l||{},e=g();return t("div",{className:"flex gap-4",children:t("div",{className:`relative w-56 h-36 bg-no-repeat	bg-cover  flex flex-row justify-center rounded-3xl ${d}`,style:{backgroundImage:"url(https://www.rami-levy.co.il/images/map.svg)"},children:a("div",{className:"w-full flex flex-col m-0 gap-12 pl-4 ",children:[a("span",{className:"pt-8 text-2xl",children:[n,s]}),c?a(h,{children:[l!=null&&l.default?null:t("span",{className:"text-cyan-700 cursor-pointer",onClick:()=>e(N({_id:o,default:!0})),children:"set the default"}),t("div",{className:"w-12 flex flex-row  gap-3 absolute top-[86%] right-[10px]",children:a(h,{children:[a(b,{className:"cursor-pointer w-10 h-2 ",children:[t(v,{onClick:()=>r(l)}),t(h,{})]}),a(b,{className:"cursor-pointer w-10 h-2 ",children:[t(w,{}),t(h,{})]})]})})]}):null]})})})},S=({address:l})=>{const[r,c]=p.exports.useState(l),d=g(),{data:s}=x(e=>e.auth),n=e=>{switch(e.target.name){case"departmentNumber":c({...r,[e.target.name]:Number(e.target.value)});break;case"homeNumber":c({...r,[e.target.name]:Number(e.target.value)});break;case"entering":c({...r,[e.target.name]:Number(e.target.value)});break;default:c({...r,[e.target.name]:String(e.target.value)});break}},o=e=>{console.log(r),e.preventDefault(),delete r.__v;const i=l!=null&&l._id?y({...r,customerRef:s==null?void 0:s.userId}):A({...r,customerRef:s==null?void 0:s.userId});d(i)};return a("form",{onSubmit:e=>o(e),className:"flex flex-col gap-4 w-96 ",children:[a("div",{children:[t("div",{className:"mb-2 block",children:t(m,{htmlFor:"email1",value:"City"})}),t(u,{name:"city",onChange:e=>n(e),type:"text",placeholder:(r==null?void 0:r.city)||"",required:!0})]}),a("div",{children:[t("div",{className:"mb-2 block",children:t(m,{htmlFor:"email1",value:"Street address"})}),t(u,{onChange:e=>n(e),type:"text",placeholder:(r==null?void 0:r.streetAddress)||"",required:!0,name:"streetAddress"})]}),a("div",{children:[t("div",{className:"mb-2 block",children:t(m,{htmlFor:"email1",value:"Department number"})}),t(u,{onChange:e=>n(e),type:"text",placeholder:(r==null?void 0:r.departmentNumber)||"",required:!0,name:"departmentNumber"})]}),a("div",{children:[t("div",{className:"mb-2 block",children:t(m,{htmlFor:"email1",value:"Home number"})}),t(u,{onChange:e=>n(e),type:"text",placeholder:(r==null?void 0:r.homeNumber)||"",required:!0,name:"homeNumber"})]}),a("div",{children:[t("div",{className:"mb-2 block",children:t(m,{htmlFor:"email1",value:"entering"})}),t(u,{onChange:e=>n(e),type:"text",placeholder:(r==null?void 0:r.entering)||"",required:!0,name:"entering"})]}),t(C,{type:"submit",children:"Submit"})]})},D=()=>{const{address:l,loading:r}=x(i=>i.order),[c,d]=p.exports.useState(),s=i=>{d(i),e(!0)},n=()=>{d(null),e(!0)},[o,e]=p.exports.useState(!1);return a("div",{className:"  m-8   flex flex-col items-center  gap-4  ",children:[t("h3",{className:"text-left text-xl text-slate-600",children:"My address"}),t("div",{className:"h-full flex flex-wrap gap-2 ",children:l==null?void 0:l.map((i,f)=>t(F,{isCanEdit:!0,address:i&&i,openWithAddress:s},f))}),a("div",{className:" w-full h-40 flex flex-col justify-center items-center",children:[t("button",{className:"bg-white w-12 h-12 p-8 border shadow-xl rounded-full flex justify-center items-center",onClick:n,children:"+"}),t("p",{children:"Add new address"})]}),t(k,{isOpen:o,setIsOpen:e,children:t(S,{address:c||null})})]})};export{D as default};
